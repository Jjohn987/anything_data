<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width,minimum-scale=1,maximum-scale=1">

  
    
    
      <link href="/css/fonts.css" rel="stylesheet" type="text/css">
    
  

  
  <title>Ctextclassics, my First Package</title>

  
  
  <link rel="stylesheet" href="/css/hugo-octopress.css">

  
  

  
    <link rel="stylesheet" href="/css/fork-awesome.min.css">
  

  
  <link href="/favicon.png" rel="icon">

  
  
  

  

  <meta name="description" content="My R blog, with projects in analytics, text analysis, data mining, and visualization. I might occasionally include Chinese text.">
  <meta name="keywords" content="">

  <meta name="author" content="Jeremy Johnson">

  
  <meta name="generator" content="Hugo 0.40.2" />

  
  
<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-118999723-1', 'auto');
ga('send', 'pageview');
</script>
<script async src='//www.google-analytics.com/analytics.js'></script>


  
  

</head>
<body>


<header role="banner"><hgroup>
  
  <h1><a href="/">Anything is |Data| is Anything</a></h1>
    <h2>The investigation of things...</h2>
</hgroup></header>


<nav role="navigation">
<fieldset class="mobile-nav">
  
  <select onchange="location = this.value;">
    <option value="">Navigate…</option>
      

  </select>
</fieldset>


<ul class="main-navigation">
  
  
</ul>


<ul class="subscription">
  

</ul>


</nav>


<div id="main">
  <div id="content">
    <div>
      <article class="hentry" role="article">

        
        

<header>
    <p class="meta">May 17, 2018
         - 2 minute read 
         - <a href="/blog/2018-05-17-ctextclassics-my-first-package/#disqus_thread">Comments</a>

        
        
        
            - <a class="label" href="/categories/api/">API </a><a class="label" href="/categories/text-analysis/">text analysis </a>
        
    </p>
    <h1 class="entry-title">
         Ctextclassics, my First Package 
    </h1>
</header>


        <div class="entry-content">
          
          
          
          
          <p>My latest update is a milestone! I have authored my first ever R package which is an API caller for ctext.org. Ctext hosts numerous pre-modern Chinese texts and my package makes them available to you. The scope is broad, but think philosophical works in Confucianism, Daoism, Legalism, military doctrines, history compilations, works in medicine, and many more.</p>
<p>The three main functions of ctextclassics are <code>get_chapter(&quot;book&quot;, &quot;chapter&quot;)</code> ,<code>get_chapters(&quot;book&quot;, chapters)</code>, <code>get_books(&quot;book&quot;)</code> and the internal dataframe <code>book_list</code> which shows the available texts. So perhaps try something like: <br></p>
<pre class="r"><code>library(ctextclassics)
head(unique(book_list$book), n = 5)</code></pre>
<pre><code>## [1] &quot;analects&quot;        &quot;art-of-war&quot;      &quot;bai-hu-tong&quot;     &quot;baopuzi&quot;        
## [5] &quot;book-of-changes&quot;</code></pre>
<pre class="r"><code>knitr::kable(head(get_books(&quot;analects&quot;)))</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">book</th>
<th align="left">chapter</th>
<th align="left">word</th>
<th align="left">chapter_cn</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">analects</td>
<td align="left">xue-er</td>
<td align="left">子曰：「學而時習之，不亦說乎？有朋自遠方來，不亦樂乎？人不知而不慍，不亦君子乎？」</td>
<td align="left">學而</td>
</tr>
<tr class="even">
<td align="left">analects</td>
<td align="left">xue-er</td>
<td align="left">有子曰：「其為人也孝弟，而好犯上者，鮮矣；不好犯上，而好作亂者，未之有也。君子務本，本立而道生。孝弟也者，其為仁之本與！」</td>
<td align="left">學而</td>
</tr>
<tr class="odd">
<td align="left">analects</td>
<td align="left">xue-er</td>
<td align="left">子曰：「巧言令色，鮮矣仁！」</td>
<td align="left">學而</td>
</tr>
<tr class="even">
<td align="left">analects</td>
<td align="left">xue-er</td>
<td align="left">曾子曰：「吾日三省吾身：為人謀而不忠乎？與朋友交而不信乎？傳不習乎？」</td>
<td align="left">學而</td>
</tr>
<tr class="odd">
<td align="left">analects</td>
<td align="left">xue-er</td>
<td align="left">子曰：「道千乘之國：敬事而信，節用而愛人，使民以時。」</td>
<td align="left">學而</td>
</tr>
<tr class="even">
<td align="left">analects</td>
<td align="left">xue-er</td>
<td align="left">子曰：「弟子入則孝，出則弟，謹而信，汎愛眾，而親仁。行有餘力，則以學文。」</td>
<td align="left">學而</td>
</tr>
</tbody>
</table>
<p><br></p>
<p>Just be careful, the API limit is around 60-ish. Which means you can get about 3 books on average before my download functions start spitting out NA values.</p>
<p>The API indexes its book and chapter names differently. Some are in English (e.g., “analects”) whereas others are written in Pinyin (e.g., “mengzi”). Some chapter titles use the word “the” whereas others don’t. So eventually I’ll consider the need to make the function calls more robust and help users avoid those inconsistencies. There’s a lot that can be improved here, be it adding authentication, a way to keep track of API call count, or anything else - but I’m looking forward to it!</p>
<p>So, what’s my ultimate goal? It is to use <code>ctextclassics</code> for text analysis on Chinese classic texts - Similar to how we see the <strong>amazing Tidytext</strong> and gutenbergr packages used! <strong>Quite ambitious, I know.</strong> At any rate, I’m enjoying reading this classical Chinese.</p>
<p>To cap off this post, you can use my package by typing <code>devtools::install_github(&quot;Jjohn987/ctextclassics&quot;)</code> and remember to check out the documentation of the functions for a better explanation.</p>
<p>If you want to contribute, please do so! You can comment here, fork my Github, or post an issue.</p>

        </div>
        

<footer>
  <p class="meta">
    <span class="byline author vcard">Posted by <span class="fn">Jeremy Johnson</span></span>
    
    <time>May 17, 2018</time>
    
      <span class="categories">
        Tags:
        
          <a class="category" href="/tags/ctextclassics">ctextclassics</a>  <a class="category" href="/tags/api">API</a>  <a class="category" href="/tags/httr">httr</a>  <a class="category" href="/tags/text-analysis">text analysis</a>  <a class="category" href="/tags/chinese">Chinese</a>  
    
    </span>
  </p>

  
  

  

  <p class="meta">
    
        <a class="basic-alignment left" href="/blog/2018-05-08-scraping-for-a-booklist-of-the-chinese-classics/" title="Scraping for a Booklist of the Chinese Classics">Scraping for a Booklist of the Chinese Classics</a>
    

    
      <a class="basic-alignment right" href="/blog/2018-05-29-a-tidytext-analysis-of-3-chinese-classics/" title="A Tidytext Analysis of 3 Chinese Classics">A Tidytext Analysis of 3 Chinese Classics</a>
    
  </p>
  
    
      <div id="disqus_thread"></div>
<script type="text/javascript">

(function() {
    
    
    
    if (window.location.hostname == "localhost")
        return;

    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    var disqus_shortname = 'anything-is-data-is-anything';
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    
  
</footer>

      </article>
    </div>
    

<aside class="sidebar thirds">
  <section class="first odd">

    
      <h1>About Me</h1>
    

    <p>
      
        <p>I&rsquo;m Jeremy, and am deeply interested in data science. Especially R.
  <br><br>
  But my educational background is in <strong>Chinese</strong> and German. <strong>Think that&rsquo;s unrelated with R</strong>? <br>
  <br> Well, I see language is a door to another world, and data science as a skillset to understanding it. <br><br> <strong>Anything is Data, and Data is Anything</strong>.
  </br><br>
  <em>Cool Websites</em> <br>
  <a href="https://www.r-bloggers.com">https://www.r-bloggers.com</a> <br></p>

<p><strong>Me on Other Platforms:</strong>  </br></p>

      
    </p>
  </section>



  
  <ul class="sidebar-nav">
    <li class="sidebar-nav-item">
      <a target="_blank" href="https://github.com/Jjohn987/" title="https://github.com/Jjohn987/"><i class="fa fa-github fa-3x"></i></a>
      
      
      
      
         
      
      <a target="_blank" href="https://www.linkedin.com/in/jeremy-johnson-09016a112" title="https://www.linkedin.com/in/jeremy-johnson-09016a112"><i class="fa fa-linkedin fa-3x"></i></a>
      <a target="_blank" href="https://stackexchange.com/users/11094434/superball10000" title="https://stackexchange.com/users/11094434/superball10000"><i class="fa fa-stack-overflow fa-3x"></i></a>
      
      
      
      
      

    
    
    </li>
  </ul>

  

  

  
  
  
    
      <section class="even">
        <h1>Recent Posts</h1>
        <ul id="recent_posts">
          
          
            
              <li class="post">
                <a href="/blog/2018-06-08-part-ii-chinese-classics-word/network-plots/">Part II: Chinese Classics&#39; Word/Network Plots</a>
              </li>
            
          
            
              <li class="post">
                <a href="/blog/2018-06-01-plotting-word-bigrams-with-3-chinese-classics/">Plotting Word Bigrams with 3 Chinese Classics</a>
              </li>
            
          
            
              <li class="post">
                <a href="/blog/2018-05-29-a-tidytext-analysis-of-3-chinese-classics/">A Tidytext Analysis of 3 Chinese Classics</a>
              </li>
            
          
            
              <li class="post">
                <a href="/blog/2018-05-17-ctextclassics-my-first-package/">Ctextclassics, my First Package</a>
              </li>
            
          
            
              <li class="post">
                <a href="/blog/2018-05-08-scraping-for-a-booklist-of-the-chinese-classics/">Scraping for a Booklist of the Chinese Classics</a>
              </li>
            
          
        </ul>
      </section>
    
  
</aside>

  </div>
</div>

<footer role="contentinfo">
  <p>Copyright &copy; 2018 Jeremy Johnson - <a href="/license/">License</a> -
  <span class="credit">Powered by <a target="_blank" href="https://gohugo.io">Hugo</a> and <a target="_blank" href="https://github.com/parsiya/hugo-octopress/">Hugo-Octopress</a> theme.
</p>

</footer>






</body>
</html>

