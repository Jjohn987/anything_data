<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width,minimum-scale=1,maximum-scale=1">

  
    
    
      <link href="/css/fonts.css" rel="stylesheet" type="text/css">
    
  

  
  <title>International Organization Growth Trend</title>

  
  
  <link rel="stylesheet" href="/css/hugo-octopress.css">

  
  

  
    <link rel="stylesheet" href="/css/fork-awesome.min.css">
  

  
  <link href="/favicon.png" rel="icon">

  
  
  

  

  <meta name="description" content="My R blog, with projects in analytics, text analysis, data mining, and visualization. I might occasionally include Chinese text.">
  <meta name="keywords" content="">

  <meta name="author" content="Jeremy Johnson">

  
  <meta name="generator" content="Hugo 0.40.2" />

  
  
<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-118999723-1', 'auto');
ga('send', 'pageview');
</script>
<script async src='//www.google-analytics.com/analytics.js'></script>


  
  

</head>
<body>


<header role="banner"><hgroup>
  
  <h1><a href="/">Anything is |Data| is Anything</a></h1>
    <h2>The investigation of things...</h2>
</hgroup></header>


<nav role="navigation">
<fieldset class="mobile-nav">
  
  <select onchange="location = this.value;">
    <option value="">Navigate…</option>
      

  </select>
</fieldset>


<ul class="main-navigation">
  
  
</ul>


<ul class="subscription">
  

</ul>


</nav>


<div id="main">
  <div id="content">
    <div>
      <article class="hentry" role="article">

        
        

<header>
    <p class="meta">Jan 24, 2017
         - 6 minute read 
         - <a href="/blog/2017-01-24-international-organization-growth-trend/#disqus_thread">Comments</a>

        
        
        
            - <a class="label" href="/categories/data-wrangling/">Data Wrangling </a><a class="label" href="/categories/data-visualization/">Data Visualization </a>
        
    </p>
    <h1 class="entry-title">
         International Organization Growth Trend 
    </h1>
</header>


        <div class="entry-content">
          
          
          
          
          <p>Note: This was my first “project” in R - and I had simple goals: <strong>learning data wrangling</strong> of a not-so-tidy dataset, and performing <strong>basic visualization</strong>. I wanted to learn the <strong>tidyverse</strong> set of packages, use pipe commands, and convert data from wide to long formats for different purposes.</p>
<p>I chose to learn the tidyverse because it gets all sorts of wrangling done about 90% of the time, (or so its said)</p>
<p>The dataset I grabbed was from the <a href="http://www.correlatesofwar.org/data-sets/IGOs">Correlates of War</a> and its citation is at the end of this document. If you wish to access this dataset, then you might visit this link.</p>
<pre class="r"><code>##load packages
library(tidyverse)
library(countrycode)
##load the data from the link above, remember to use your own directory!
igos &lt;- read_csv(&quot;/Users/jeremyjohnson/Desktop/R Directory/igounit.csv&quot;)</code></pre>
<p>To tidy this data, I first wanted to convert it from wide to long (each country is its own column, which is not useful for passing functions across). I also want to put the different membership variables (active, dead, integrated, etc) in one single column.</p>
<p>To go from wide to long, <code>tidyr::gather</code> is very useful.</p>
<div id="lets-tidy-this-data" class="section level2">
<h2>Let’s tidy this data</h2>
<pre class="r"><code>## Gather the countries and membership status into a single column respecitively. 

tidied_countries &lt;- gather(igos, Country, Membership, afghanistan:zimbabwe)

## add a region column to go with country. Use &quot;Misc&quot; for NA values.
tidied_countries$Region &lt;- countrycode(tidied_countries$Country, &quot;country.name&quot;, &quot;region&quot;, warn = FALSE)
tidied_countries$Region[is.na(tidied_countries$Region)] &lt;- &quot;Misc&quot;

## There&#39;s no column detailing a &quot;founding year&quot; or a &quot;dead&quot; year, let&#39;s fix that.
tidied_countries &lt;- tidied_countries %&gt;%  
  group_by(orgname) %&gt;%
  mutate(Founded = min(year)) %&gt;%
  gather(Status, Year, Founded, deaddate) </code></pre>
<p>I want a quick idea of the growth trend of international organizations over the recent two centuries. This can be done with a simple (but slightly lengthy) dplyr chain. I prefer to work with only relevant columns, and I need to calculate consecutive growth. So that means I’ll need to <code>dplyr::select</code>, <code>dplyr::group_by</code>, <code>dplyr::mutate</code>, and more.</p>
</div>
<div id="overall-consecutive-igo-growth-by-year" class="section level2">
<h2>Overall Consecutive IGO growth by year</h2>
<pre class="r"><code>Overall_Growth &lt;- tidied_countries %&gt;% 
  select(orgname, Status, Year) %&gt;%
  group_by(orgname, Year, Status) %&gt;%
  distinct() %&gt;%
  arrange(Year) %&gt;%
  mutate(Count = ifelse(Status == &quot;Founded&quot;, 1, ifelse(Status == &quot;deaddate&quot; &amp; Year != is.na(Year), -1, NA))) %&gt;% 
  ungroup() %&gt;%
  group_by(Year) %&gt;%
  mutate(Growth = cumsum(Count)) %&gt;% 
  filter(Growth == max(Growth)) %&gt;%
  ungroup() %&gt;%
  mutate(Growth = cumsum(Growth))

ggplot(Overall_Growth, aes(x = Year, y=Growth)) + geom_line(color = &quot;steelblue&quot;, size = 1.1) + theme_bw() + ggtitle(&quot;Growth of International Organizations&quot;, subtitle = &quot;From 1850 - 2005&quot;)</code></pre>
<p><img src="/post/2018-05-06-international-organization-growth-trend_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<p>What a simple but nice line plot depicting the general trend. While it doesn’t depict everything, it does provide us some information at first glance. There’s a near flat line, then upward and downward ticks, then a dramatic climb.</p>
<p>Next up I’d like to simply look at the decline in international organizations, or when organizations went “dead”.</p>
<pre class="r"><code> Death_Trend &lt;- tidied_countries %&gt;% 
  select(orgname, Status, Year) %&gt;%
  group_by(orgname, Year, Status) %&gt;%
  distinct() %&gt;%
  arrange(Year) %&gt;%
  mutate(Count = ifelse(Status == &quot;Founded&quot;, 1, ifelse(Status == &quot;deaddate&quot; &amp; Year != is.na(Year), -1, NA))) %&gt;% 
  ungroup() %&gt;%
  filter(Status == &quot;deaddate&quot; &amp; !is.na(Year)) %&gt;% group_by(Year, Count) %&gt;% summarise(Dead = sum(Count)) %&gt;%
  ungroup() %&gt;%
  mutate(New.Total = cumsum(Dead)) 

Abnormal_Years &lt;- Death_Trend %&gt;% top_n(-2, Dead)

  ggplot(Death_Trend, aes(x = Year, y = New.Total)) +
  geom_line(color = &quot;red&quot;, size = 1.2, linetype = &quot;dashed&quot;) +
  geom_area(stat = &quot;identity&quot;, alpha = .6, fill = &quot;black&quot;) +
  geom_point(data = Abnormal_Years, aes(x = Year, y = New.Total), color = &quot;black&quot;, size = 3.5) +
      geom_point(data = Abnormal_Years, aes(x = Year, y = New.Total), color = &quot;red&quot;, size = 2, shape = 18, alpha = .8) +
  geom_text(data = Abnormal_Years, aes(label = paste(Abnormal_Years$Year), x = Year, y = New.Total), nudge_x = 1, nudge_y = -6, color = &quot;black&quot;, fontface = &quot;bold&quot;) +
  theme_bw() +
    ggtitle(&quot;Death Trend of International Organizations&quot;, subtitle = &quot;And Some Comparatively Bad Years&quot;)</code></pre>
<p><img src="/post/2018-05-06-international-organization-growth-trend_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<pre class="r"><code>  Abnormal_Years</code></pre>
<pre><code>## # A tibble: 5 x 4
##    Year Count  Dead New.Total
##   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;
## 1  1914    -1    -9       -11
## 2  1965    -1    -7       -73
## 3  1991    -1    -7      -125
## 4  1998    -1    -7      -157
## 5  2000    -1    -7      -168</code></pre>
<p>This plot can look deceiving depending on your perspective. Just remember that this is a consecutive count of international organizations that died out over time.</p>
<p>There were a few years that stood out as worse than others. In particular, 1914 saw the greatest decline in international organizations, with 9 going dead from that year alone. Also, recent years have had a count of around 7 international organizations that died out repspectively. Odd - maybe they were ill-conceived or perhaps they got consolidated into more complex ones.</p>
<p>While the first plot showed the consolidated trend, let’s depict the consecutive growth and decline trends separately in the same plot. (That is, if we were to subtract the red from the blue, we’d get the original plot seen at the beginning of this post.)</p>
<pre class="r"><code>   Total_Trend &lt;- tidied_countries %&gt;% 
  select(orgname, Status, Year) %&gt;%
  group_by(orgname, Year) %&gt;%
  distinct() %&gt;%
  arrange(Year) %&gt;%
  mutate(Count = ifelse(Status == &quot;Founded&quot;, 1, ifelse(Status == &quot;deaddate&quot; &amp; Year != is.na(Year), -1, NA)), Status = ifelse(Status == &quot;deaddate&quot;, &quot;Dead&quot;, Status)) %&gt;% 
  group_by(Status, Year) %&gt;%
  summarise(Change = sum(Count)) %&gt;% group_by(Status) %&gt;% mutate(New.Total = cumsum(Change))

High_Growth_Years &lt;- Total_Trend %&gt;% 
  ungroup() %&gt;%
  top_n(2, Change)

High_Decline_Years &lt;- Total_Trend %&gt;%
  ungroup() %&gt;%
  top_n(-2, Change)


  ggplot(Total_Trend, aes(x = Year, y = New.Total, fill = Status)) +
  geom_line(size=1.2, color = &quot;black&quot;) +
    geom_area() +
    geom_point(data = High_Growth_Years, aes(x = Year, y = New.Total), color = &quot;black&quot;, size = 3.5) +
     geom_point(data = High_Growth_Years, aes(x = Year, y = New.Total), color = &quot;steelblue&quot;, size = 1.5) +
       geom_point(data = High_Decline_Years, aes(x = Year, y = New.Total), color = &quot;black&quot;, size = 3.5) +
       geom_point(data = High_Decline_Years, aes(x = Year, y = New.Total), color = &quot;red&quot;, size = 1.5) +
    geom_text(data = High_Decline_Years, aes(label = paste(High_Decline_Years$Year), x = Year, y = New.Total), nudge_x = -11, nudge_y = -17, color = &quot;black&quot;) +
     geom_text(data = High_Growth_Years, aes(label = paste(High_Growth_Years$Year), x = Year, y = New.Total), nudge_x = -11, nudge_y = 17, color = &quot;black&quot;)+
    theme_bw() +
    ggtitle(&quot;International Organizations Growth and Decline&quot;, subtitle = &quot;|Significant Years Annotated&quot;) </code></pre>
<p><img src="/post/2018-05-06-international-organization-growth-trend_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<p>Now a direct comparison between the growth and decline of international organizations can be seen. But let’s show the figures as well. So, when selecting 3 standout years (taking maximum counts), many more were founded than went dead.</p>
<pre class="r"><code>## Examine Significant Years of Growth and Decline
High_Growth_Years</code></pre>
<pre><code>## # A tibble: 2 x 4
##    Status  Year Change New.Total
##     &lt;chr&gt; &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;
## 1 Founded  1945     36       136
## 2 Founded  1960     41       232</code></pre>
<pre class="r"><code>High_Decline_Years</code></pre>
<pre><code>## # A tibble: 5 x 4
##   Status  Year Change New.Total
##    &lt;chr&gt; &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;
## 1   Dead  1914     -9       -11
## 2   Dead  1965     -7       -73
## 3   Dead  1991     -7      -125
## 4   Dead  1998     -7      -157
## 5   Dead  2000     -7      -168</code></pre>
</div>
<div id="observations" class="section level2">
<h2>Observations</h2>
<ul>
<li>Before 1900, international organization growth was slow but stable.</li>
<li>1914 had the most organizations go dead (9 that year).</li>
<li>1945 (a year after Bretton Woods) had the 2nd most organizations founded (36).</li>
<li>1960 was the year with the most new international organizations (41) (many are African related; the 60’s were apparently a <a href="https://sarpn.org/documents/d0000407/P373_Baah.pdf">“golden age”</a> for development.</li>
</ul>
<p>And this was my first ever project in R. I…</p>
<ul>
<li>found a dataset</li>
<li>loaded it in</li>
<li>learned how manipulate tidy data - reading it in, processing it, and visualizing it.</li>
</ul>
<p>I learned a generic workflow within the tidyverse packages, made pipe commands, and passed the tidied results off to ggplot. Off to a good start, I dare say!</p>
<p><strong>Citation</strong> <em>Pevehouse, Jon C., Timothy Nordstrom, and Kevin Warnke. 2004. “The COW-2 International Organizations Dataset Version 2.0,” Conflict Management and Peace Science 21:101-119.</em></p>
<p><em>Migrated from my original Wordpress blog</em></p>
</div>

        </div>
        

<footer>
  <p class="meta">
    <span class="byline author vcard">Posted by <span class="fn">Jeremy Johnson</span></span>
    
    <time>Jan 24, 2017</time>
    
      <span class="categories">
        Tags:
        
          <a class="category" href="/tags/tidyr">tidyr</a>  <a class="category" href="/tags/tidyverse">tidyverse</a>  <a class="category" href="/tags/international-organizations">international organizations</a>  <a class="category" href="/tags/correlates-of-war-project">Correlates of War Project</a>  
    
    </span>
  </p>

  
  

  

  <p class="meta">
    

    
      <a class="basic-alignment right" href="/blog/2017-07-01-top-mba-programs-by-us-news/" title="Top MBA Programs by US News">Top MBA Programs by US News</a>
    
  </p>
  
    
      <div id="disqus_thread"></div>
<script type="text/javascript">

(function() {
    
    
    
    if (window.location.hostname == "localhost")
        return;

    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    var disqus_shortname = 'anything-is-data-is-anything';
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    
  
</footer>

      </article>
    </div>
    

<aside class="sidebar thirds">
  <section class="first odd">

    
      <h1>About Me</h1>
    

    <p>
      
        <p>I&rsquo;m Jeremy, and am deeply interested in data science. Especially R.
  <br><br>
  But my educational background is in <strong>Chinese</strong> and German. <strong>Think that&rsquo;s unrelated with R</strong>? <br>
  <br> Well, I see language is a door to another world, and data science as a skillset to understanding it. <br><br> <strong>Anything is Data, and Data is Anything</strong>.
  </br><br>
  <em>Cool Websites</em> <br>
  <a href="https://www.r-bloggers.com">https://www.r-bloggers.com</a> <br></p>

<p><strong>Me on Other Platforms:</strong>  </br></p>

      
    </p>
  </section>



  
  <ul class="sidebar-nav">
    <li class="sidebar-nav-item">
      <a target="_blank" href="https://github.com/Jjohn987/" title="https://github.com/Jjohn987/"><i class="fa fa-github fa-3x"></i></a>
      
      
      
      
         
      
      <a target="_blank" href="https://www.linkedin.com/in/jeremy-johnson-09016a112" title="https://www.linkedin.com/in/jeremy-johnson-09016a112"><i class="fa fa-linkedin fa-3x"></i></a>
      <a target="_blank" href="https://stackexchange.com/users/11094434/superball10000" title="https://stackexchange.com/users/11094434/superball10000"><i class="fa fa-stack-overflow fa-3x"></i></a>
      
      
      
      
      

    
    
    </li>
  </ul>

  

  

  
  
  
    
      <section class="even">
        <h1>Recent Posts</h1>
        <ul id="recent_posts">
          
          
            
              <li class="post">
                <a href="/blog/2018-09-21-first-app---halo-5-stats/">First App - Halo 5 Stats</a>
              </li>
            
          
            
              <li class="post">
                <a href="/blog/2018-09-21-first-app---halo-5-stats/">First App - Halo 5 Stats</a>
              </li>
            
          
            
              <li class="post">
                <a href="/blog/2018-06-08-part-ii-chinese-classics-word/network-plots/">Part II: Chinese Classics&#39; Word/Network Plots</a>
              </li>
            
          
            
              <li class="post">
                <a href="/blog/2018-06-01-plotting-word-bigrams-with-3-chinese-classics/">Plotting Word Bigrams with 3 Chinese Classics</a>
              </li>
            
          
            
              <li class="post">
                <a href="/blog/2018-05-29-a-tidytext-analysis-of-3-chinese-classics/">A Tidytext Analysis of 3 Chinese Classics</a>
              </li>
            
          
        </ul>
      </section>
    
  
</aside>

  </div>
</div>

<footer role="contentinfo">
  <p>Copyright &copy; 2018 Jeremy Johnson - <a href="/license/">License</a> -
  <span class="credit">Powered by <a target="_blank" href="https://gohugo.io">Hugo</a> and <a target="_blank" href="https://github.com/parsiya/hugo-octopress/">Hugo-Octopress</a> theme.
</p>

</footer>






</body>
</html>

